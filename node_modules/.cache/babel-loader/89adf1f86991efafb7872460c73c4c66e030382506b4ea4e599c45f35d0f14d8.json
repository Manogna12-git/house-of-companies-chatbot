{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\house-of-companies-chatbot\\\\src\\\\components\\\\HouseOfCompaniesChatbot.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport './HouseOfCompaniesChatbot.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HouseOfCompaniesChatbot = () => {\n  _s();\n  const [currentStep, setCurrentStep] = useState(0);\n  const [messages, setMessages] = useState([]);\n  const [selectedOptions, setSelectedOptions] = useState({});\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [userProfile, setUserProfile] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    linkedin: '',\n    company: '',\n    country: ''\n  });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [sessionId] = useState(() => 'HOC-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9));\n  const [showFreeTextInput, setShowFreeTextInput] = useState(false);\n  const [freeTextInput, setFreeTextInput] = useState('');\n  const [errors, setErrors] = useState({});\n  const [isInitialized, setIsInitialized] = useState(false);\n  const messagesEndRef = useRef(null);\n  const chatMessagesRef = useRef(null);\n  const totalSteps = 12;\n\n  // Countries list\n  const countries = ['United States', 'United Kingdom', 'Germany', 'Netherlands', 'Ireland', 'Luxembourg', 'Switzerland', 'France', 'Spain', 'Italy', 'Portugal', 'Belgium', 'Austria', 'Denmark', 'Sweden', 'Norway', 'Finland', 'Poland', 'Czech Republic', 'Hungary', 'Estonia', 'Latvia', 'Lithuania', 'Slovenia', 'Croatia', 'Romania', 'Bulgaria', 'Cyprus', 'Malta', 'Canada', 'Australia', 'New Zealand', 'Singapore', 'Hong Kong', 'UAE', 'Qatar', 'Saudi Arabia', 'India', 'Japan', 'South Korea', 'Malaysia', 'Thailand', 'Philippines', 'Indonesia', 'Vietnam', 'South Africa', 'Mexico', 'Brazil', 'Argentina', 'Chile', 'Colombia', 'Other'];\n\n  // Chat flow steps with services and pricing\n  const chatFlow = {\n    0: {\n      message: \"ðŸ‘‹ Welcome to House of Companies! I'm here to help you establish and grow your business across Europe and beyond. What brings you here today?\",\n      options: [{\n        id: 'setup',\n        title: 'ðŸ¢ Set up a new business',\n        description: 'Start your company in Europe or expand globally'\n      }, {\n        id: 'expand',\n        title: 'ðŸŒ Expand existing business',\n        description: 'Grow your business to new markets'\n      }, {\n        id: 'consultation',\n        title: 'ðŸ’¬ Get expert consultation',\n        description: 'Speak with our business formation specialists'\n      }, {\n        id: 'services',\n        title: 'ðŸ“‹ Explore our services',\n        description: 'Learn about our comprehensive business solutions'\n      }]\n    },\n    1: {\n      message: \"Great choice! Let me understand your business stage better. Where are you in your entrepreneurial journey?\",\n      options: [{\n        id: 'idea',\n        title: 'ðŸ’¡ I have a business idea',\n        description: 'Just starting out with a concept'\n      }, {\n        id: 'planning',\n        title: 'ðŸ“‹ Planning phase',\n        description: 'Working on business plan and strategy'\n      }, {\n        id: 'ready',\n        title: 'ðŸš€ Ready to launch',\n        description: 'Prepared to establish the company'\n      }, {\n        id: 'existing',\n        title: 'ðŸª Existing business',\n        description: 'Already running a business elsewhere'\n      }]\n    },\n    2: {\n      message: \"Perfect! Which regions are you most interested in for your business operations?\",\n      options: [{\n        id: 'eu',\n        title: 'ðŸ‡ªðŸ‡º European Union',\n        description: 'Access to 27 EU countries and 450M+ consumers'\n      }, {\n        id: 'uk',\n        title: 'ðŸ‡¬ðŸ‡§ United Kingdom',\n        description: 'English-speaking market with global reach'\n      }, {\n        id: 'us',\n        title: 'ðŸ‡ºðŸ‡¸ United States',\n        description: 'World\\'s largest economy and consumer market'\n      }, {\n        id: 'global',\n        title: 'ðŸŒ Multiple regions',\n        description: 'International expansion across regions'\n      }]\n    },\n    3: {\n      message: \"Excellent! Now let's look at our core business formation services. Please select what you need:\",\n      options: [{\n        id: 'virtual_office',\n        title: 'ðŸ“ Virtual Office Address',\n        description: 'Professional business address',\n        price: 495\n      }, {\n        id: 'entity_setup',\n        title: 'ðŸ¢ Entity Setup (LLC/Ltd)',\n        description: 'Complete company formation',\n        price: 1995\n      }, {\n        id: 'vat_id',\n        title: 'ðŸ†” VAT ID Registration',\n        description: 'EU VAT identification number',\n        price: 325\n      }, {\n        id: 'bank_account',\n        title: 'ðŸ¦ Business Bank Account',\n        description: 'Multi-currency business banking',\n        price: 750\n      }, {\n        id: 'skip_services',\n        title: 'â­ï¸ Skip for now',\n        description: 'Continue without selecting services',\n        price: 0\n      }]\n    },\n    4: {\n      message: \"Great! Let's look at our tax and compliance services:\",\n      options: [{\n        id: 'tax_advisory',\n        title: 'ðŸ“Š Tax Advisory Services',\n        description: 'Expert tax planning and compliance',\n        price: 850\n      }, {\n        id: 'bookkeeping',\n        title: 'ðŸ“š Bookkeeping Services',\n        description: 'Monthly financial record management',\n        price: 450\n      }, {\n        id: 'annual_filing',\n        title: 'ðŸ“‹ Annual Filing',\n        description: 'Company annual returns and filings',\n        price: 275\n      }, {\n        id: 'payroll',\n        title: 'ðŸ’° Payroll Services',\n        description: 'Employee payroll management',\n        price: 650\n      }, {\n        id: 'skip_tax',\n        title: 'â­ï¸ Skip tax services',\n        description: 'Continue without tax services',\n        price: 0\n      }]\n    },\n    5: {\n      message: \"Perfect! Now let's explore our additional services and add-ons:\",\n      options: [{\n        id: 'trademark',\n        title: 'â„¢ï¸ Trademark Registration',\n        description: 'Protect your brand internationally',\n        price: 1250\n      }, {\n        id: 'website',\n        title: 'ðŸŒ Professional Website',\n        description: 'Business website development',\n        price: 2500\n      }, {\n        id: 'marketing',\n        title: 'ðŸ“ˆ Digital Marketing Setup',\n        description: 'SEO and online presence',\n        price: 1750\n      }, {\n        id: 'legal_docs',\n        title: 'ðŸ“„ Legal Document Templates',\n        description: 'Contracts and legal templates',\n        price: 350\n      }, {\n        id: 'skip_addons',\n        title: 'â­ï¸ Skip add-ons',\n        description: 'Continue without additional services',\n        price: 0\n      }]\n    },\n    6: {\n      message: \"Excellent selections! When would you like to get started with your business setup?\",\n      options: [{\n        id: 'asap',\n        title: 'ðŸš€ As soon as possible',\n        description: 'Start immediately'\n      }, {\n        id: 'month',\n        title: 'ðŸ“… Within a month',\n        description: 'Planning to start within 4 weeks'\n      }, {\n        id: 'quarter',\n        title: 'ðŸ“† Within 3 months',\n        description: 'Planning for next quarter'\n      }, {\n        id: 'planning',\n        title: 'ðŸ¤” Still planning',\n        description: 'Gathering information for now'\n      }]\n    },\n    7: {\n      message: \"Great! Let me get some details about your business profile:\",\n      type: 'profile_form'\n    },\n    8: {\n      message: \"Based on your selections, here's what we recommend for your business setup:\",\n      type: 'recommendation'\n    },\n    9: {\n      message: \"Perfect! Let me collect your contact information to create your personalized report:\",\n      type: 'contact_form'\n    },\n    10: {\n      message: \"Excellent! Here's a summary of everything you've selected:\",\n      type: 'summary'\n    },\n    11: {\n      message: \"ðŸŽ‰ Thank you! Your business setup consultation has been scheduled. What would you like to do next?\",\n      options: [{\n        id: 'calendar',\n        title: 'ðŸ“… Book Calendar Appointment',\n        description: 'Schedule a detailed consultation'\n      }, {\n        id: 'contact',\n        title: 'ðŸ“ž Get Contact Information',\n        description: 'Speak with our specialists directly'\n      }, {\n        id: 'restart',\n        title: 'ðŸ”„ Start Over',\n        description: 'Begin a new consultation'\n      }]\n    }\n  };\n\n  // Validation functions\n  const validateEmail = email => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  };\n  const validateLinkedIn = url => {\n    if (!url) return true;\n    const linkedinRegex = /^https:\\/\\/(www\\.)?linkedin\\.com\\/in\\/[a-zA-Z0-9-]+\\/?$/;\n    return linkedinRegex.test(url);\n  };\n\n  // Improved scroll to bottom function\n  const scrollToBottom = () => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'end'\n      });\n    }\n    if (chatMessagesRef.current) {\n      chatMessagesRef.current.scrollTop = chatMessagesRef.current.scrollHeight;\n    }\n  };\n\n  // Auto-scroll to bottom with delay\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      scrollToBottom();\n    }, 100);\n    return () => clearTimeout(timer);\n  }, [messages]);\n\n  // Memoize addMessage to prevent re-creation\n  const addMessage = useCallback((sender, text, timestamp = new Date().toLocaleTimeString()) => {\n    setMessages(prev => [...prev, {\n      sender,\n      text,\n      timestamp\n    }]);\n  }, []);\n\n  // Initialize chat only once\n  useEffect(() => {\n    if (!isInitialized && messages.length === 0) {\n      addMessage('bot', chatFlow[0].message);\n      setIsInitialized(true);\n    }\n  }, [isInitialized, messages.length, addMessage]);\n  const handleOptionSelect = optionId => {\n    var _chatFlow$currentStep;\n    const currentOptions = ((_chatFlow$currentStep = chatFlow[currentStep]) === null || _chatFlow$currentStep === void 0 ? void 0 : _chatFlow$currentStep.options) || [];\n    const selectedOption = currentOptions.find(opt => opt.id === optionId);\n    if (selectedOption) {\n      addMessage('user', selectedOption.title);\n      setSelectedOptions(prev => ({\n        ...prev,\n        [currentStep]: selectedOption\n      }));\n      if (selectedOption.price) {\n        setTotalPrice(prev => prev + selectedOption.price);\n      }\n      setTimeout(() => {\n        const nextStep = currentStep + 1;\n        if (chatFlow[nextStep]) {\n          setCurrentStep(nextStep);\n          if (chatFlow[nextStep].message) {\n            addMessage('bot', chatFlow[nextStep].message);\n          }\n        }\n      }, 500);\n    }\n  };\n  const handleFreeTextInput = async text => {\n    addMessage('user', text);\n    setTimeout(() => {\n      const responses = [\"Thank you for your question! Based on House of Companies' expertise, we specialize in helping businesses establish and expand across Europe and globally.\", \"That's a great question! Our team at House of Companies has extensive experience in international business formation and can provide detailed guidance on that topic.\", \"I understand your concern. House of Companies offers comprehensive support for business setup, tax compliance, and expansion strategies. Would you like to schedule a consultation to discuss this in detail?\"];\n      const randomResponse = responses[Math.floor(Math.random() * responses.length)];\n      addMessage('bot', randomResponse);\n    }, 1000);\n    setFreeTextInput('');\n    setShowFreeTextInput(false);\n  };\n  const handleProfileSubmit = profileData => {\n    var _chatFlow$nextStep;\n    setUserProfile(prev => ({\n      ...prev,\n      ...profileData\n    }));\n    const nextStep = currentStep + 1;\n    setCurrentStep(nextStep);\n    if ((_chatFlow$nextStep = chatFlow[nextStep]) !== null && _chatFlow$nextStep !== void 0 && _chatFlow$nextStep.message) {\n      addMessage('bot', chatFlow[nextStep].message);\n    }\n  };\n  const handleContactSubmit = contactData => {\n    var _chatFlow$nextStep2;\n    const newErrors = {};\n    if (!validateEmail(contactData.email)) {\n      newErrors.email = 'Please enter a valid email address';\n    }\n    if (contactData.linkedin && !validateLinkedIn(contactData.linkedin)) {\n      newErrors.linkedin = 'Please enter a valid LinkedIn URL (https://linkedin.com/in/username)';\n    }\n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      return;\n    }\n    setErrors({});\n    setUserProfile(prev => ({\n      ...prev,\n      ...contactData\n    }));\n    const nextStep = currentStep + 1;\n    setCurrentStep(nextStep);\n    if ((_chatFlow$nextStep2 = chatFlow[nextStep]) !== null && _chatFlow$nextStep2 !== void 0 && _chatFlow$nextStep2.message) {\n      addMessage('bot', chatFlow[nextStep].message);\n    }\n  };\n  const generateReport = () => {\n    const report = {\n      sessionId,\n      timestamp: new Date().toISOString(),\n      userProfile,\n      selectedServices: Object.values(selectedOptions),\n      totalPrice,\n      summary: Object.values(selectedOptions).map(opt => `${opt.title}${opt.price ? ` - â‚¬${opt.price}` : ''}`).join('\\n')\n    };\n    return report;\n  };\n  const sendEmailReport = async report => {\n    console.log('Sending report to manojnamalla12@gmail.com:', report);\n    return new Promise(resolve => setTimeout(resolve, 2000));\n  };\n  const handleSubmit = async () => {\n    setIsSubmitting(true);\n    try {\n      var _chatFlow$nextStep3;\n      const report = generateReport();\n      await sendEmailReport(report);\n      addMessage('bot', 'âœ… Perfect! Your report has been sent to our team. You should receive a confirmation email shortly.');\n      const nextStep = currentStep + 1;\n      setCurrentStep(nextStep);\n      if ((_chatFlow$nextStep3 = chatFlow[nextStep]) !== null && _chatFlow$nextStep3 !== void 0 && _chatFlow$nextStep3.message) {\n        setTimeout(() => {\n          addMessage('bot', chatFlow[nextStep].message);\n        }, 1000);\n      }\n    } catch (error) {\n      addMessage('bot', 'âŒ Sorry, there was an issue sending your report. Please try again or contact us directly.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const handleBookConsultation = () => {\n    const calendlyUrl = `https://calendly.com/dennis-houseofcompanies/new-meeting?month=2025-06&name=${encodeURIComponent(userProfile.name)}&email=${encodeURIComponent(userProfile.email)}`;\n    window.open(calendlyUrl, '_blank');\n    addMessage('bot', 'ðŸ“… Great! The calendar booking page has opened in a new window. Please select your preferred time slot.');\n  };\n  const goBack = () => {\n    if (currentStep > 0) {\n      setCurrentStep(currentStep - 1);\n      addMessage('bot', chatFlow[currentStep - 1].message);\n    }\n  };\n  const startOver = () => {\n    setCurrentStep(0);\n    setMessages([]);\n    setSelectedOptions({});\n    setTotalPrice(0);\n    setUserProfile({\n      name: '',\n      email: '',\n      phone: '',\n      linkedin: '',\n      company: '',\n      country: ''\n    });\n    setErrors({});\n    setIsInitialized(false);\n  };\n\n  // Custom UI rendering\n  const renderCurrentStep = () => {\n    const step = chatFlow[currentStep];\n    if (!step) return null;\n    if (step.type === 'profile_form') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Company Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-input\",\n            value: userProfile.company,\n            onChange: e => setUserProfile(prev => ({\n              ...prev,\n              company: e.target.value\n            })),\n            placeholder: \"Enter your company name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Preferred Country\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"form-select\",\n            value: userProfile.country,\n            onChange: e => setUserProfile(prev => ({\n              ...prev,\n              country: e.target.value\n            })),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select a country\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 15\n            }, this), countries.map((country, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: country,\n              children: country\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleProfileSubmit(userProfile),\n          className: \"btn btn-primary btn-full\",\n          children: \"Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this);\n    }\n    if (step.type === 'contact_form') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Full Name *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: `form-input ${errors.name ? 'error' : ''}`,\n            value: userProfile.name,\n            onChange: e => setUserProfile(prev => ({\n              ...prev,\n              name: e.target.value\n            })),\n            placeholder: \"Enter your full name\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Email Address *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: `form-input ${errors.email ? 'error' : ''}`,\n            value: userProfile.email,\n            onChange: e => setUserProfile(prev => ({\n              ...prev,\n              email: e.target.value\n            })),\n            placeholder: \"Enter your email address\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 13\n          }, this), errors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"form-error\",\n            children: errors.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"Phone Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            className: \"form-input\",\n            value: userProfile.phone,\n            onChange: e => setUserProfile(prev => ({\n              ...prev,\n              phone: e.target.value\n            })),\n            placeholder: \"Enter your phone number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form-label\",\n            children: \"LinkedIn Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"url\",\n            className: `form-input ${errors.linkedin ? 'error' : ''}`,\n            value: userProfile.linkedin,\n            onChange: e => setUserProfile(prev => ({\n              ...prev,\n              linkedin: e.target.value\n            })),\n            placeholder: \"https://linkedin.com/in/username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 13\n          }, this), errors.linkedin && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"form-error\",\n            children: errors.linkedin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleContactSubmit(userProfile),\n          className: \"btn btn-primary btn-full\",\n          children: \"Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this);\n    }\n    if (step.type === 'recommendation') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recommendation-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"recommendation-title\",\n            children: \"\\uD83C\\uDFAF Recommended for You\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: Object.values(selectedOptions).map((option, index) => option.price > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recommendation-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: option.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: 'bold'\n                },\n                children: [\"\\u20AC\", option.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 440,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              borderTop: '1px solid #d1fae5',\n              marginTop: '12px',\n              paddingTop: '12px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"recommendation-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: 'bold'\n                },\n                children: \"Total Investment:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 447,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: '1.25rem',\n                  fontWeight: 'bold'\n                },\n                children: [\"\\u20AC\", totalPrice.toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            var _chatFlow$nextStep4;\n            const nextStep = currentStep + 1;\n            setCurrentStep(nextStep);\n            if ((_chatFlow$nextStep4 = chatFlow[nextStep]) !== null && _chatFlow$nextStep4 !== void 0 && _chatFlow$nextStep4.message) {\n              addMessage('bot', chatFlow[nextStep].message);\n            }\n          },\n          className: \"btn btn-primary btn-full\",\n          children: \"Looks Good! Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 452,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 9\n      }, this);\n    }\n    if (step.type === 'summary') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-box\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"summary-title\",\n            children: \"\\uD83D\\uDCCB Your Business Setup Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: userProfile.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 40\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Email:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: userProfile.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Company:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: userProfile.company\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 43\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"summary-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Country:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 17\n              }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                children: userProfile.country\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 43\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                paddingTop: '8px',\n                borderTop: '1px solid #e5e7eb'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Selected Services:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 487,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '8px'\n                },\n                children: Object.values(selectedOptions).map((option, index) => option.price > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"summary-item\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: option.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 492,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\u20AC\", option.price]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 25\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                paddingTop: '8px',\n                borderTop: '1px solid #e5e7eb',\n                fontWeight: 'bold'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"summary-item\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Total:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"\\u20AC\", totalPrice.toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          disabled: isSubmitting || !userProfile.email || !userProfile.name,\n          className: \"btn btn-primary btn-full\",\n          style: {\n            padding: '12px 24px',\n            fontSize: '1rem'\n          },\n          children: isSubmitting ? 'Processing...' : 'Complete & Send Report'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleBookConsultation,\n          className: \"btn btn-primary btn-full\",\n          style: {\n            padding: '12px 24px',\n            fontSize: '1rem'\n          },\n          children: \"\\uD83D\\uDCC5 Book Free Consultation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 9\n      }, this);\n    }\n\n    // Horizontal buttons for options - only show if not already shown in messages\n    if (step.options && !messages.some(m => m.text === step.message && m.sender === 'bot')) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"welcome-message\",\n          children: step.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"option-grid\",\n          children: step.options.map((option, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleOptionSelect(option.id),\n            className: \"option-button-horizontal\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"option-icon\",\n              children: option.title.split(' ')[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"option-title\",\n                children: option.title.replace(/^\\S+\\s/, '')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"option-desc\",\n                children: option.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 543,\n                columnNumber: 19\n              }, this), option.price && option.price > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"option-price\",\n                children: [\"\\u20AC\", option.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 533,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 9\n      }, this);\n    }\n    return null;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chatbot-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatbot-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"House of Companies\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 564,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Business Formation Assistant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 565,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'right',\n            fontSize: '0.75rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Session: \", sessionId.split('-')[1]]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: new Date().toLocaleDateString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 561,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatbot-progress\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-fill\",\n          style: {\n            width: `${Math.min(currentStep / totalSteps * 100, 100)}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          fontSize: '0.75rem',\n          color: '#6b7280',\n          marginTop: '4px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Progress\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [Math.min(Math.round(currentStep / totalSteps * 100), 100), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: chatMessagesRef,\n      className: \"chat-messages\",\n      children: [messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `message ${message.sender}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: message.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-time\",\n            children: message.timestamp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 597,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 589,\n      columnNumber: 7\n    }, this), messages.some(m => {\n      var _chatFlow$currentStep2;\n      return m.text === ((_chatFlow$currentStep2 = chatFlow[currentStep]) === null || _chatFlow$currentStep2 === void 0 ? void 0 : _chatFlow$currentStep2.message);\n    }) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"current-step-content\",\n      children: renderCurrentStep()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 606,\n      columnNumber: 9\n    }, this), showFreeTextInput && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '16px',\n        borderTop: '1px solid #e5e7eb',\n        background: '#f8fafb'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"free-text-input-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: freeTextInput,\n          onChange: e => setFreeTextInput(e.target.value),\n          placeholder: \"Type your question...\",\n          className: \"form-input free-text-input\",\n          onKeyPress: e => {\n            if (e.key === 'Enter' && freeTextInput.trim()) {\n              handleFreeTextInput(freeTextInput.trim());\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => freeTextInput.trim() && handleFreeTextInput(freeTextInput.trim()),\n          className: \"send-button\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 627,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 613,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatbot-footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-buttons\",\n        children: [currentStep > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: goBack,\n          className: \"btn btn-secondary\",\n          children: \"\\u2190 Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 641,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: startOver,\n          className: \"btn btn-primary\",\n          children: \"Start Over\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 648,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 639,\n        columnNumber: 9\n      }, this), totalPrice > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"total-display\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"label\",\n          children: \"Current Total:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"amount\",\n          children: [\"\\u20AC\", totalPrice.toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 660,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 658,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowFreeTextInput(!showFreeTextInput),\n          className: \"btn btn-outline btn-full\",\n          children: \"\\uD83D\\uDCAC Ask a Question\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 666,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 638,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 559,\n    columnNumber: 5\n  }, this);\n};\n_s(HouseOfCompaniesChatbot, \"G95+ti/JscDV5C1mmF4is4dV2Hc=\");\n_c = HouseOfCompaniesChatbot;\nexport default HouseOfCompaniesChatbot;\ns;\nvar _c;\n$RefreshReg$(_c, \"HouseOfCompaniesChatbot\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","jsxDEV","_jsxDEV","HouseOfCompaniesChatbot","_s","currentStep","setCurrentStep","messages","setMessages","selectedOptions","setSelectedOptions","totalPrice","setTotalPrice","userProfile","setUserProfile","name","email","phone","linkedin","company","country","isSubmitting","setIsSubmitting","sessionId","Date","now","Math","random","toString","substr","showFreeTextInput","setShowFreeTextInput","freeTextInput","setFreeTextInput","errors","setErrors","isInitialized","setIsInitialized","messagesEndRef","chatMessagesRef","totalSteps","countries","chatFlow","message","options","id","title","description","price","type","validateEmail","emailRegex","test","validateLinkedIn","url","linkedinRegex","scrollToBottom","current","scrollIntoView","behavior","block","scrollTop","scrollHeight","timer","setTimeout","clearTimeout","addMessage","sender","text","timestamp","toLocaleTimeString","prev","length","handleOptionSelect","optionId","_chatFlow$currentStep","currentOptions","selectedOption","find","opt","nextStep","handleFreeTextInput","responses","randomResponse","floor","handleProfileSubmit","profileData","_chatFlow$nextStep","handleContactSubmit","contactData","_chatFlow$nextStep2","newErrors","Object","keys","generateReport","report","toISOString","selectedServices","values","summary","map","join","sendEmailReport","console","log","Promise","resolve","handleSubmit","_chatFlow$nextStep3","error","handleBookConsultation","calendlyUrl","encodeURIComponent","window","open","goBack","startOver","renderCurrentStep","step","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","placeholder","index","onClick","required","option","style","fontWeight","borderTop","marginTop","paddingTop","fontSize","toLocaleString","_chatFlow$nextStep4","disabled","padding","some","m","split","replace","display","justifyContent","alignItems","textAlign","toLocaleDateString","width","min","color","round","ref","_chatFlow$currentStep2","background","onKeyPress","key","trim","_c","s","$RefreshReg$"],"sources":["C:/Users/HP/Downloads/house-of-companies-chatbot/src/components/HouseOfCompaniesChatbot.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport './HouseOfCompaniesChatbot.css';\n\nconst HouseOfCompaniesChatbot = () => {\n  const [currentStep, setCurrentStep] = useState(0);\n  const [messages, setMessages] = useState([]);\n  const [selectedOptions, setSelectedOptions] = useState({});\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [userProfile, setUserProfile] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    linkedin: '',\n    company: '',\n    country: ''\n  });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [sessionId] = useState(() => 'HOC-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9));\n  const [showFreeTextInput, setShowFreeTextInput] = useState(false);\n  const [freeTextInput, setFreeTextInput] = useState('');\n  const [errors, setErrors] = useState({});\n  const [isInitialized, setIsInitialized] = useState(false);\n  const messagesEndRef = useRef(null);\n  const chatMessagesRef = useRef(null);\n\n  const totalSteps = 12;\n\n  // Countries list\n  const countries = [\n    'United States', 'United Kingdom', 'Germany', 'Netherlands', 'Ireland', 'Luxembourg',\n    'Switzerland', 'France', 'Spain', 'Italy', 'Portugal', 'Belgium', 'Austria',\n    'Denmark', 'Sweden', 'Norway', 'Finland', 'Poland', 'Czech Republic', 'Hungary',\n    'Estonia', 'Latvia', 'Lithuania', 'Slovenia', 'Croatia', 'Romania', 'Bulgaria',\n    'Cyprus', 'Malta', 'Canada', 'Australia', 'New Zealand', 'Singapore', 'Hong Kong',\n    'UAE', 'Qatar', 'Saudi Arabia', 'India', 'Japan', 'South Korea', 'Malaysia',\n    'Thailand', 'Philippines', 'Indonesia', 'Vietnam', 'South Africa', 'Mexico',\n    'Brazil', 'Argentina', 'Chile', 'Colombia', 'Other'\n  ];\n\n  // Chat flow steps with services and pricing\n  const chatFlow = {\n    0: {\n      message: \"ðŸ‘‹ Welcome to House of Companies! I'm here to help you establish and grow your business across Europe and beyond. What brings you here today?\",\n      options: [\n        { id: 'setup', title: 'ðŸ¢ Set up a new business', description: 'Start your company in Europe or expand globally' },\n        { id: 'expand', title: 'ðŸŒ Expand existing business', description: 'Grow your business to new markets' },\n        { id: 'consultation', title: 'ðŸ’¬ Get expert consultation', description: 'Speak with our business formation specialists' },\n        { id: 'services', title: 'ðŸ“‹ Explore our services', description: 'Learn about our comprehensive business solutions' }\n      ]\n    },\n    1: {\n      message: \"Great choice! Let me understand your business stage better. Where are you in your entrepreneurial journey?\",\n      options: [\n        { id: 'idea', title: 'ðŸ’¡ I have a business idea', description: 'Just starting out with a concept' },\n        { id: 'planning', title: 'ðŸ“‹ Planning phase', description: 'Working on business plan and strategy' },\n        { id: 'ready', title: 'ðŸš€ Ready to launch', description: 'Prepared to establish the company' },\n        { id: 'existing', title: 'ðŸª Existing business', description: 'Already running a business elsewhere' }\n      ]\n    },\n    2: {\n      message: \"Perfect! Which regions are you most interested in for your business operations?\",\n      options: [\n        { id: 'eu', title: 'ðŸ‡ªðŸ‡º European Union', description: 'Access to 27 EU countries and 450M+ consumers' },\n        { id: 'uk', title: 'ðŸ‡¬ðŸ‡§ United Kingdom', description: 'English-speaking market with global reach' },\n        { id: 'us', title: 'ðŸ‡ºðŸ‡¸ United States', description: 'World\\'s largest economy and consumer market' },\n        { id: 'global', title: 'ðŸŒ Multiple regions', description: 'International expansion across regions' }\n      ]\n    },\n    3: {\n      message: \"Excellent! Now let's look at our core business formation services. Please select what you need:\",\n      options: [\n        { id: 'virtual_office', title: 'ðŸ“ Virtual Office Address', description: 'Professional business address', price: 495 },\n        { id: 'entity_setup', title: 'ðŸ¢ Entity Setup (LLC/Ltd)', description: 'Complete company formation', price: 1995 },\n        { id: 'vat_id', title: 'ðŸ†” VAT ID Registration', description: 'EU VAT identification number', price: 325 },\n        { id: 'bank_account', title: 'ðŸ¦ Business Bank Account', description: 'Multi-currency business banking', price: 750 },\n        { id: 'skip_services', title: 'â­ï¸ Skip for now', description: 'Continue without selecting services', price: 0 }\n      ]\n    },\n    4: {\n      message: \"Great! Let's look at our tax and compliance services:\",\n      options: [\n        { id: 'tax_advisory', title: 'ðŸ“Š Tax Advisory Services', description: 'Expert tax planning and compliance', price: 850 },\n        { id: 'bookkeeping', title: 'ðŸ“š Bookkeeping Services', description: 'Monthly financial record management', price: 450 },\n        { id: 'annual_filing', title: 'ðŸ“‹ Annual Filing', description: 'Company annual returns and filings', price: 275 },\n        { id: 'payroll', title: 'ðŸ’° Payroll Services', description: 'Employee payroll management', price: 650 },\n        { id: 'skip_tax', title: 'â­ï¸ Skip tax services', description: 'Continue without tax services', price: 0 }\n      ]\n    },\n    5: {\n      message: \"Perfect! Now let's explore our additional services and add-ons:\",\n      options: [\n        { id: 'trademark', title: 'â„¢ï¸ Trademark Registration', description: 'Protect your brand internationally', price: 1250 },\n        { id: 'website', title: 'ðŸŒ Professional Website', description: 'Business website development', price: 2500 },\n        { id: 'marketing', title: 'ðŸ“ˆ Digital Marketing Setup', description: 'SEO and online presence', price: 1750 },\n        { id: 'legal_docs', title: 'ðŸ“„ Legal Document Templates', description: 'Contracts and legal templates', price: 350 },\n        { id: 'skip_addons', title: 'â­ï¸ Skip add-ons', description: 'Continue without additional services', price: 0 }\n      ]\n    },\n    6: {\n      message: \"Excellent selections! When would you like to get started with your business setup?\",\n      options: [\n        { id: 'asap', title: 'ðŸš€ As soon as possible', description: 'Start immediately' },\n        { id: 'month', title: 'ðŸ“… Within a month', description: 'Planning to start within 4 weeks' },\n        { id: 'quarter', title: 'ðŸ“† Within 3 months', description: 'Planning for next quarter' },\n        { id: 'planning', title: 'ðŸ¤” Still planning', description: 'Gathering information for now' }\n      ]\n    },\n    7: {\n      message: \"Great! Let me get some details about your business profile:\",\n      type: 'profile_form'\n    },\n    8: {\n      message: \"Based on your selections, here's what we recommend for your business setup:\",\n      type: 'recommendation'\n    },\n    9: {\n      message: \"Perfect! Let me collect your contact information to create your personalized report:\",\n      type: 'contact_form'\n    },\n    10: {\n      message: \"Excellent! Here's a summary of everything you've selected:\",\n      type: 'summary'\n    },\n    11: {\n      message: \"ðŸŽ‰ Thank you! Your business setup consultation has been scheduled. What would you like to do next?\",\n      options: [\n        { id: 'calendar', title: 'ðŸ“… Book Calendar Appointment', description: 'Schedule a detailed consultation' },\n        { id: 'contact', title: 'ðŸ“ž Get Contact Information', description: 'Speak with our specialists directly' },\n        { id: 'restart', title: 'ðŸ”„ Start Over', description: 'Begin a new consultation' }\n      ]\n    }\n  };\n\n  // Validation functions\n  const validateEmail = (email) => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  };\n\n  const validateLinkedIn = (url) => {\n    if (!url) return true;\n    const linkedinRegex = /^https:\\/\\/(www\\.)?linkedin\\.com\\/in\\/[a-zA-Z0-9-]+\\/?$/;\n    return linkedinRegex.test(url);\n  };\n\n  // Improved scroll to bottom function\n  const scrollToBottom = () => {\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth', block: 'end' });\n    }\n    \n    if (chatMessagesRef.current) {\n      chatMessagesRef.current.scrollTop = chatMessagesRef.current.scrollHeight;\n    }\n  };\n\n  // Auto-scroll to bottom with delay\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      scrollToBottom();\n    }, 100);\n    \n    return () => clearTimeout(timer);\n  }, [messages]);\n\n  // Memoize addMessage to prevent re-creation\n  const addMessage = useCallback((sender, text, timestamp = new Date().toLocaleTimeString()) => {\n    setMessages(prev => [...prev, { sender, text, timestamp }]);\n  }, []);\n\n  // Initialize chat only once\n  useEffect(() => {\n    if (!isInitialized && messages.length === 0) {\n      addMessage('bot', chatFlow[0].message);\n      setIsInitialized(true);\n    }\n  }, [isInitialized, messages.length, addMessage]);\n\n  const handleOptionSelect = (optionId) => {\n    const currentOptions = chatFlow[currentStep]?.options || [];\n    const selectedOption = currentOptions.find(opt => opt.id === optionId);\n\n    if (selectedOption) {\n      addMessage('user', selectedOption.title);\n\n      setSelectedOptions(prev => ({\n        ...prev,\n        [currentStep]: selectedOption\n      }));\n\n      if (selectedOption.price) {\n        setTotalPrice(prev => prev + selectedOption.price);\n      }\n\n      setTimeout(() => {\n        const nextStep = currentStep + 1;\n        if (chatFlow[nextStep]) {\n          setCurrentStep(nextStep);\n          if (chatFlow[nextStep].message) {\n            addMessage('bot', chatFlow[nextStep].message);\n          }\n        }\n      }, 500);\n    }\n  };\n\n  const handleFreeTextInput = async (text) => {\n    addMessage('user', text);\n\n    setTimeout(() => {\n      const responses = [\n        \"Thank you for your question! Based on House of Companies' expertise, we specialize in helping businesses establish and expand across Europe and globally.\",\n        \"That's a great question! Our team at House of Companies has extensive experience in international business formation and can provide detailed guidance on that topic.\",\n        \"I understand your concern. House of Companies offers comprehensive support for business setup, tax compliance, and expansion strategies. Would you like to schedule a consultation to discuss this in detail?\"\n      ];\n      const randomResponse = responses[Math.floor(Math.random() * responses.length)];\n      addMessage('bot', randomResponse);\n    }, 1000);\n\n    setFreeTextInput('');\n    setShowFreeTextInput(false);\n  };\n\n  const handleProfileSubmit = (profileData) => {\n    setUserProfile(prev => ({ ...prev, ...profileData }));\n    const nextStep = currentStep + 1;\n    setCurrentStep(nextStep);\n    if (chatFlow[nextStep]?.message) {\n      addMessage('bot', chatFlow[nextStep].message);\n    }\n  };\n\n  const handleContactSubmit = (contactData) => {\n    const newErrors = {};\n\n    if (!validateEmail(contactData.email)) {\n      newErrors.email = 'Please enter a valid email address';\n    }\n\n    if (contactData.linkedin && !validateLinkedIn(contactData.linkedin)) {\n      newErrors.linkedin = 'Please enter a valid LinkedIn URL (https://linkedin.com/in/username)';\n    }\n\n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      return;\n    }\n\n    setErrors({});\n    setUserProfile(prev => ({ ...prev, ...contactData }));\n\n    const nextStep = currentStep + 1;\n    setCurrentStep(nextStep);\n    if (chatFlow[nextStep]?.message) {\n      addMessage('bot', chatFlow[nextStep].message);\n    }\n  };\n\n  const generateReport = () => {\n    const report = {\n      sessionId,\n      timestamp: new Date().toISOString(),\n      userProfile,\n      selectedServices: Object.values(selectedOptions),\n      totalPrice,\n      summary: Object.values(selectedOptions).map(opt =>\n        `${opt.title}${opt.price ? ` - â‚¬${opt.price}` : ''}`\n      ).join('\\n')\n    };\n    return report;\n  };\n\n  const sendEmailReport = async (report) => {\n    console.log('Sending report to manojnamalla12@gmail.com:', report);\n    return new Promise(resolve => setTimeout(resolve, 2000));\n  };\n\n  const handleSubmit = async () => {\n    setIsSubmitting(true);\n\n    try {\n      const report = generateReport();\n      await sendEmailReport(report);\n\n      addMessage('bot', 'âœ… Perfect! Your report has been sent to our team. You should receive a confirmation email shortly.');\n\n      const nextStep = currentStep + 1;\n      setCurrentStep(nextStep);\n      if (chatFlow[nextStep]?.message) {\n        setTimeout(() => {\n          addMessage('bot', chatFlow[nextStep].message);\n        }, 1000);\n      }\n    } catch (error) {\n      addMessage('bot', 'âŒ Sorry, there was an issue sending your report. Please try again or contact us directly.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleBookConsultation = () => {\n    const calendlyUrl = `https://calendly.com/dennis-houseofcompanies/new-meeting?month=2025-06&name=${encodeURIComponent(userProfile.name)}&email=${encodeURIComponent(userProfile.email)}`;\n    window.open(calendlyUrl, '_blank');\n    addMessage('bot', 'ðŸ“… Great! The calendar booking page has opened in a new window. Please select your preferred time slot.');\n  };\n\n  const goBack = () => {\n    if (currentStep > 0) {\n      setCurrentStep(currentStep - 1);\n      addMessage('bot', chatFlow[currentStep - 1].message);\n    }\n  };\n\n  const startOver = () => {\n    setCurrentStep(0);\n    setMessages([]);\n    setSelectedOptions({});\n    setTotalPrice(0);\n    setUserProfile({\n      name: '',\n      email: '',\n      phone: '',\n      linkedin: '',\n      company: '',\n      country: ''\n    });\n    setErrors({});\n    setIsInitialized(false);\n  };\n\n  // Custom UI rendering\n  const renderCurrentStep = () => {\n    const step = chatFlow[currentStep];\n\n    if (!step) return null;\n\n    if (step.type === 'profile_form') {\n      return (\n        <div className=\"space-y-4\">\n          <div className=\"form-group\">\n            <label className=\"form-label\">Company Name</label>\n            <input\n              type=\"text\"\n              className=\"form-input\"\n              value={userProfile.company}\n              onChange={(e) => setUserProfile(prev => ({ ...prev, company: e.target.value }))}\n              placeholder=\"Enter your company name\"\n            />\n          </div>\n          <div className=\"form-group\">\n            <label className=\"form-label\">Preferred Country</label>\n            <select\n              className=\"form-select\"\n              value={userProfile.country}\n              onChange={(e) => setUserProfile(prev => ({ ...prev, country: e.target.value }))}\n            >\n              <option value=\"\">Select a country</option>\n              {countries.map((country, index) => (\n                <option key={index} value={country}>{country}</option>\n              ))}\n            </select>\n          </div>\n          <button\n            onClick={() => handleProfileSubmit(userProfile)}\n            className=\"btn btn-primary btn-full\"\n          >\n            Continue\n          </button>\n        </div>\n      );\n    }\n\n    if (step.type === 'contact_form') {\n      return (\n        <div className=\"space-y-4\">\n          <div className=\"form-group\">\n            <label className=\"form-label\">Full Name *</label>\n            <input\n              type=\"text\"\n              className={`form-input ${errors.name ? 'error' : ''}`}\n              value={userProfile.name}\n              onChange={(e) => setUserProfile(prev => ({ ...prev, name: e.target.value }))}\n              placeholder=\"Enter your full name\"\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <label className=\"form-label\">Email Address *</label>\n            <input\n              type=\"email\"\n              className={`form-input ${errors.email ? 'error' : ''}`}\n              value={userProfile.email}\n              onChange={(e) => setUserProfile(prev => ({ ...prev, email: e.target.value }))}\n              placeholder=\"Enter your email address\"\n              required\n            />\n            {errors.email && <p className=\"form-error\">{errors.email}</p>}\n          </div>\n          <div className=\"form-group\">\n            <label className=\"form-label\">Phone Number</label>\n            <input\n              type=\"tel\"\n              className=\"form-input\"\n              value={userProfile.phone}\n              onChange={(e) => setUserProfile(prev => ({ ...prev, phone: e.target.value }))}\n              placeholder=\"Enter your phone number\"\n            />\n          </div>\n          <div className=\"form-group\">\n            <label className=\"form-label\">LinkedIn Profile</label>\n            <input\n              type=\"url\"\n              className={`form-input ${errors.linkedin ? 'error' : ''}`}\n              value={userProfile.linkedin}\n              onChange={(e) => setUserProfile(prev => ({ ...prev, linkedin: e.target.value }))}\n              placeholder=\"https://linkedin.com/in/username\"\n            />\n            {errors.linkedin && <p className=\"form-error\">{errors.linkedin}</p>}\n          </div>\n          <button\n            onClick={() => handleContactSubmit(userProfile)}\n            className=\"btn btn-primary btn-full\"\n          >\n            Continue\n          </button>\n        </div>\n      );\n    }\n\n    if (step.type === 'recommendation') {\n      return (\n        <div className=\"space-y-4\">\n          <div className=\"recommendation-box\">\n            <h3 className=\"recommendation-title\">ðŸŽ¯ Recommended for You</h3>\n            <div className=\"space-y-2\">\n              {Object.values(selectedOptions).map((option, index) => (\n                option.price > 0 && (\n                  <div key={index} className=\"recommendation-item\">\n                    <span>{option.title}</span>\n                    <span style={{fontWeight: 'bold'}}>â‚¬{option.price}</span>\n                  </div>\n                )\n              ))}\n            </div>\n            <div style={{borderTop: '1px solid #d1fae5', marginTop: '12px', paddingTop: '12px'}}>\n              <div className=\"recommendation-item\">\n                <span style={{fontWeight: 'bold'}}>Total Investment:</span>\n                <span style={{fontSize: '1.25rem', fontWeight: 'bold'}}>â‚¬{totalPrice.toLocaleString()}</span>\n              </div>\n            </div>\n          </div>\n          <button\n            onClick={() => {\n              const nextStep = currentStep + 1;\n              setCurrentStep(nextStep);\n              if (chatFlow[nextStep]?.message) {\n                addMessage('bot', chatFlow[nextStep].message);\n              }\n            }}\n            className=\"btn btn-primary btn-full\"\n          >\n            Looks Good! Continue\n          </button>\n        </div>\n      );\n    }\n\n    if (step.type === 'summary') {\n      return (\n        <div className=\"space-y-4\">\n          <div className=\"summary-box\">\n            <h3 className=\"summary-title\">ðŸ“‹ Your Business Setup Summary</h3>\n            <div className=\"space-y-2\">\n              <div className=\"summary-item\">\n                <strong>Name:</strong> <span>{userProfile.name}</span>\n              </div>\n              <div className=\"summary-item\">\n                <strong>Email:</strong> <span>{userProfile.email}</span>\n              </div>\n              <div className=\"summary-item\">\n                <strong>Company:</strong> <span>{userProfile.company}</span>\n              </div>\n              <div className=\"summary-item\">\n                <strong>Country:</strong> <span>{userProfile.country}</span>\n              </div>\n              <div style={{paddingTop: '8px', borderTop: '1px solid #e5e7eb'}}>\n                <strong>Selected Services:</strong>\n                <div style={{marginTop: '8px'}}>\n                  {Object.values(selectedOptions).map((option, index) => (\n                    option.price > 0 && (\n                      <div key={index} className=\"summary-item\">\n                        <span>{option.title}</span>\n                        <span>â‚¬{option.price}</span>\n                      </div>\n                    )\n                  ))}\n                </div>\n              </div>\n              <div style={{paddingTop: '8px', borderTop: '1px solid #e5e7eb', fontWeight: 'bold'}}>\n                <div className=\"summary-item\">\n                  <span>Total:</span>\n                  <span>â‚¬{totalPrice.toLocaleString()}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <button\n            onClick={handleSubmit}\n            disabled={isSubmitting || !userProfile.email || !userProfile.name}\n            className=\"btn btn-primary btn-full\"\n            style={{padding: '12px 24px', fontSize: '1rem'}}\n          >\n            {isSubmitting ? 'Processing...' : 'Complete & Send Report'}\n          </button>\n          <button\n            onClick={handleBookConsultation}\n            className=\"btn btn-primary btn-full\"\n            style={{padding: '12px 24px', fontSize: '1rem'}}\n          >\n            ðŸ“… Book Free Consultation\n          </button>\n        </div>\n      );\n    }\n\n    // Horizontal buttons for options - only show if not already shown in messages\n    if (step.options && !messages.some(m => m.text === step.message && m.sender === 'bot')) {\n      return (\n        <div>\n          <div className=\"welcome-message\">{step.message}</div>\n          <div className=\"option-grid\">\n            {step.options.map((option, index) => (\n              <button\n                key={index}\n                onClick={() => handleOptionSelect(option.id)}\n                className=\"option-button-horizontal\"\n              >\n                <div className=\"option-icon\">{option.title.split(' ')[0]}</div>\n                <div>\n                  <div className=\"option-title\">\n                    {option.title.replace(/^\\S+\\s/, '')}\n                  </div>\n                  <div className=\"option-desc\">{option.description}</div>\n                  {option.price && option.price > 0 && (\n                    <div className=\"option-price\">â‚¬{option.price}</div>\n                  )}\n                </div>\n              </button>\n            ))}\n          </div>\n        </div>\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <div className=\"chatbot-container\">\n      {/* Header */}\n      <div className=\"chatbot-header\">\n        <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>\n          <div>\n            <h1>House of Companies</h1>\n            <p>Business Formation Assistant</p>\n          </div>\n          <div style={{textAlign: 'right', fontSize: '0.75rem'}}>\n            <div>Session: {sessionId.split('-')[1]}</div>\n            <div>{new Date().toLocaleDateString()}</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Progress Bar */}\n      <div className=\"chatbot-progress\">\n        <div className=\"progress-bar\">\n          <div\n            className=\"progress-fill\"\n            style={{ width: `${Math.min((currentStep / totalSteps) * 100, 100)}%` }}\n          ></div>\n        </div>\n        <div style={{display: 'flex', justifyContent: 'space-between', fontSize: '0.75rem', color: '#6b7280', marginTop: '4px'}}>\n          <span>Progress</span>\n          <span>{Math.min(Math.round((currentStep / totalSteps) * 100), 100)}%</span>\n        </div>\n      </div>\n\n      {/* Chat Messages */}\n      <div \n        ref={chatMessagesRef}\n        className=\"chat-messages\"\n      >\n        {messages.map((message, index) => (\n          <div key={index} className={`message ${message.sender}`}>\n            <div className=\"message-content\">\n              <div>{message.text}</div>\n              <div className=\"message-time\">{message.timestamp}</div>\n            </div>\n          </div>\n        ))}\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Current Step Content - Only show if message is in chat */}\n      {messages.some(m => m.text === chatFlow[currentStep]?.message) && (\n        <div className=\"current-step-content\">\n          {renderCurrentStep()}\n        </div>\n      )}\n\n      {/* Free Text Input */}\n      {showFreeTextInput && (\n        <div style={{padding: '16px', borderTop: '1px solid #e5e7eb', background: '#f8fafb'}}>\n          <div className=\"free-text-input-container\">\n            <input\n              type=\"text\"\n              value={freeTextInput}\n              onChange={(e) => setFreeTextInput(e.target.value)}\n              placeholder=\"Type your question...\"\n              className=\"form-input free-text-input\"\n              onKeyPress={(e) => {\n                if (e.key === 'Enter' && freeTextInput.trim()) {\n                  handleFreeTextInput(freeTextInput.trim());\n                }\n              }}\n            />\n            <button\n              onClick={() => freeTextInput.trim() && handleFreeTextInput(freeTextInput.trim())}\n              className=\"send-button\"\n            >\n              Send\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Navigation & Action Buttons */}\n      <div className=\"chatbot-footer\">\n        <div className=\"nav-buttons\">\n          {currentStep > 0 && (\n            <button\n              onClick={goBack}\n              className=\"btn btn-secondary\"\n            >\n              â† Back\n            </button>\n          )}\n          <button\n            onClick={startOver}\n            className=\"btn btn-primary\"\n          >\n            Start Over\n          </button>\n        </div>\n\n        {/* Current Total Display */}\n        {totalPrice > 0 && (\n          <div className=\"total-display\">\n            <span className=\"label\">Current Total:</span>\n            <span className=\"amount\">â‚¬{totalPrice.toLocaleString()}</span>\n          </div>\n        )}\n\n        {/* Question Button */}\n        <div className=\"mt-3\">\n          <button\n            onClick={() => setShowFreeTextInput(!showFreeTextInput)}\n            className=\"btn btn-outline btn-full\"\n          >\n            ðŸ’¬ Ask a Question\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HouseOfCompaniesChatbot;s"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}