{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Downloads\\\\house-of-companies-chatbot\\\\src\\\\components\\\\HouseOfCompaniesChatbot.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport './HouseOfCompaniesChatbot.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HouseOfCompaniesChatbot = () => {\n  _s();\n  const [currentStep, setCurrentStep] = useState(0);\n  const [messages, setMessages] = useState([]);\n  const [selectedOptions, setSelectedOptions] = useState({});\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [userProfile, setUserProfile] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    linkedin: '',\n    company: '',\n    country: ''\n  });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [sessionId] = useState(() => 'HOC-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9));\n  const [showFreeTextInput, setShowFreeTextInput] = useState(false);\n  const [freeTextInput, setFreeTextInput] = useState('');\n  const [errors, setErrors] = useState({});\n  const messagesEndRef = useRef(null);\n  const chatMessagesRef = useRef(null); // Added ref for chat container\n\n  const totalSteps = 12;\n\n  // Countries list\n  const countries = ['United States', 'United Kingdom', 'Germany', 'Netherlands', 'Ireland', 'Luxembourg', 'Switzerland', 'France', 'Spain', 'Italy', 'Portugal', 'Belgium', 'Austria', 'Denmark', 'Sweden', 'Norway', 'Finland', 'Poland', 'Czech Republic', 'Hungary', 'Estonia', 'Latvia', 'Lithuania', 'Slovenia', 'Croatia', 'Romania', 'Bulgaria', 'Cyprus', 'Malta', 'Canada', 'Australia', 'New Zealand', 'Singapore', 'Hong Kong', 'UAE', 'Qatar', 'Saudi Arabia', 'India', 'Japan', 'South Korea', 'Malaysia', 'Thailand', 'Philippines', 'Indonesia', 'Vietnam', 'South Africa', 'Mexico', 'Brazil', 'Argentina', 'Chile', 'Colombia', 'Other'];\n\n  // Chat flow steps with services and pricing\n  const chatFlow = {\n    0: {\n      message: \"ðŸ‘‹ Welcome to House of Companies! I'm here to help you establish and grow your business across Europe and beyond. What brings you here today?\",\n      options: [{\n        id: 'setup',\n        title: 'ðŸ¢ Set up a new business',\n        description: 'Start your company in Europe or expand globally'\n      }, {\n        id: 'expand',\n        title: 'ðŸŒ Expand existing business',\n        description: 'Grow your business to new markets'\n      }, {\n        id: 'consultation',\n        title: 'ðŸ’¬ Get expert consultation',\n        description: 'Speak with our business formation specialists'\n      }, {\n        id: 'services',\n        title: 'ðŸ“‹ Explore our services',\n        description: 'Learn about our comprehensive business solutions'\n      }]\n    },\n    1: {\n      message: \"Great choice! Let me understand your business stage better. Where are you in your entrepreneurial journey?\",\n      options: [{\n        id: 'idea',\n        title: 'ðŸ’¡ I have a business idea',\n        description: 'Just starting out with a concept'\n      }, {\n        id: 'planning',\n        title: 'ðŸ“‹ Planning phase',\n        description: 'Working on business plan and strategy'\n      }, {\n        id: 'ready',\n        title: 'ðŸš€ Ready to launch',\n        description: 'Prepared to establish the company'\n      }, {\n        id: 'existing',\n        title: 'ðŸª Existing business',\n        description: 'Already running a business elsewhere'\n      }]\n    },\n    2: {\n      message: \"Perfect! Which regions are you most interested in for your business operations?\",\n      options: [{\n        id: 'eu',\n        title: 'ðŸ‡ªðŸ‡º European Union',\n        description: 'Access to 27 EU countries and 450M+ consumers'\n      }, {\n        id: 'uk',\n        title: 'ðŸ‡¬ðŸ‡§ United Kingdom',\n        description: 'English-speaking market with global reach'\n      }, {\n        id: 'us',\n        title: 'ðŸ‡ºðŸ‡¸ United States',\n        description: 'World\\'s largest economy and consumer market'\n      }, {\n        id: 'global',\n        title: 'ðŸŒ Multiple regions',\n        description: 'International expansion across regions'\n      }]\n    },\n    3: {\n      message: \"Excellent! Now let's look at our core business formation services. Please select what you need:\",\n      options: [{\n        id: 'virtual_office',\n        title: 'ðŸ“ Virtual Office Address',\n        description: 'Professional business address',\n        price: 495\n      }, {\n        id: 'entity_setup',\n        title: 'ðŸ¢ Entity Setup (LLC/Ltd)',\n        description: 'Complete company formation',\n        price: 1995\n      }, {\n        id: 'vat_id',\n        title: 'ðŸ†” VAT ID Registration',\n        description: 'EU VAT identification number',\n        price: 325\n      }, {\n        id: 'bank_account',\n        title: 'ðŸ¦ Business Bank Account',\n        description: 'Multi-currency business banking',\n        price: 750\n      }, {\n        id: 'skip_services',\n        title: 'â­ï¸ Skip for now',\n        description: 'Continue without selecting services',\n        price: 0\n      }]\n    },\n    4: {\n      message: \"Great! Let's look at our tax and compliance services:\",\n      options: [{\n        id: 'tax_advisory',\n        title: 'ðŸ“Š Tax Advisory Services',\n        description: 'Expert tax planning and compliance',\n        price: 850\n      }, {\n        id: 'bookkeeping',\n        title: 'ðŸ“š Bookkeeping Services',\n        description: 'Monthly financial record management',\n        price: 450\n      }, {\n        id: 'annual_filing',\n        title: 'ðŸ“‹ Annual Filing',\n        description: 'Company annual returns and filings',\n        price: 275\n      }, {\n        id: 'payroll',\n        title: 'ðŸ’° Payroll Services',\n        description: 'Employee payroll management',\n        price: 650\n      }, {\n        id: 'skip_tax',\n        title: 'â­ï¸ Skip tax services',\n        description: 'Continue without tax services',\n        price: 0\n      }]\n    },\n    5: {\n      message: \"Perfect! Now let's explore our additional services and add-ons:\",\n      options: [{\n        id: 'trademark',\n        title: 'â„¢ï¸ Trademark Registration',\n        description: 'Protect your brand internationally',\n        price: 1250\n      }, {\n        id: 'website',\n        title: 'ðŸŒ Professional Website',\n        description: 'Business website development',\n        price: 2500\n      }, {\n        id: 'marketing',\n        title: 'ðŸ“ˆ Digital Marketing Setup',\n        description: 'SEO and online presence',\n        price: 1750\n      }, {\n        id: 'legal_docs',\n        title: 'ðŸ“„ Legal Document Templates',\n        description: 'Contracts and legal templates',\n        price: 350\n      }, {\n        id: 'skip_addons',\n        title: 'â­ï¸ Skip add-ons',\n        description: 'Continue without additional services',\n        price: 0\n      }]\n    },\n    6: {\n      message: \"Excellent selections! When would you like to get started with your business setup?\",\n      options: [{\n        id: 'asap',\n        title: 'ðŸš€ As soon as possible',\n        description: 'Start immediately'\n      }, {\n        id: 'month',\n        title: 'ðŸ“… Within a month',\n        description: 'Planning to start within 4 weeks'\n      }, {\n        id: 'quarter',\n        title: 'ðŸ“† Within 3 months',\n        description: 'Planning for next quarter'\n      }, {\n        id: 'planning',\n        title: 'ðŸ¤” Still planning',\n        description: 'Gathering information for now'\n      }]\n    },\n    7: {\n      message: \"Great! Let me get some details about your business profile:\",\n      type: 'profile_form'\n    },\n    8: {\n      message: \"Based on your selections, here's what we recommend for your business setup:\",\n      type: 'recommendation'\n    },\n    9: {\n      message: \"Perfect! Let me collect your contact information to create your personalized report:\",\n      type: 'contact_form'\n    },\n    10: {\n      message: \"Excellent! Here's a summary of everything you've selected:\",\n      type: 'summary'\n    },\n    11: {\n      message: \"ðŸŽ‰ Thank you! Your business setup consultation has been scheduled. What would you like to do next?\",\n      options: [{\n        id: 'calendar',\n        title: 'ðŸ“… Book Calendar Appointment',\n        description: 'Schedule a detailed consultation'\n      }, {\n        id: 'contact',\n        title: 'ðŸ“ž Get Contact Information',\n        description: 'Speak with our specialists directly'\n      }, {\n        id: 'restart',\n        title: 'ðŸ”„ Start Over',\n        description: 'Begin a new consultation'\n      }]\n    }\n  };\n\n  // Validation functions\n  const validateEmail = email => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  };\n  const validateLinkedIn = url => {\n    if (!url) return true; // LinkedIn is optional\n    const linkedinRegex = /^https:\\/\\/(www\\.)?linkedin\\.com\\/in\\/[a-zA-Z0-9-]+\\/?$/;\n    return linkedinRegex.test(url);\n  };\n\n  // Improved scroll to bottom function\n  const scrollToBottom = () => {\n    // Method 1: Scroll the end element into view\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'end'\n      });\n    }\n\n    // Method 2: Directly set scrollTop (fallback)\n    if (chatMessagesRef.current) {\n      chatMessagesRef.current.scrollTop = chatMessagesRef.current.scrollHeight;\n    }\n  };\n\n  // Auto-scroll to bottom with delay\n  useEffect(() => {\n    // Small delay to ensure DOM is updated\n    const timer = setTimeout(() => {\n      scrollToBottom();\n    }, 100);\n    return () => clearTimeout(timer);\n  }, [messages]);\n\n  // Initialize chat\n  useEffect(() => {\n    if (messages.length === 0) {\n      addMessage('bot', chatFlow[0].message);\n    }\n  }, []);\n  const addMessage = (sender, text, timestamp = new Date().toLocaleTimeString()) => {\n    setMessages(prev => [...prev, {\n      sender,\n      text,\n      timestamp\n    }]);\n  };\n  const handleOptionSelect = optionId => {\n    var _chatFlow$currentStep;\n    const currentOptions = ((_chatFlow$currentStep = chatFlow[currentStep]) === null || _chatFlow$currentStep === void 0 ? void 0 : _chatFlow$currentStep.options) || [];\n    const selectedOption = currentOptions.find(opt => opt.id === optionId);\n    if (selectedOption) {\n      addMessage('user', selectedOption.title);\n      setSelectedOptions(prev => ({\n        ...prev,\n        [currentStep]: selectedOption\n      }));\n      if (selectedOption.price) {\n        setTotalPrice(prev => prev + selectedOption.price);\n      }\n      setTimeout(() => {\n        const nextStep = currentStep + 1;\n        if (chatFlow[nextStep]) {\n          setCurrentStep(nextStep);\n          if (chatFlow[nextStep].message) {\n            addMessage('bot', chatFlow[nextStep].message);\n          }\n        }\n      }, 500);\n    }\n  };\n  const handleFreeTextInput = async text => {\n    addMessage('user', text);\n    setTimeout(() => {\n      const responses = [\"Thank you for your question! Based on House of Companies' expertise, we specialize in helping businesses establish and expand across Europe and globally.\", \"That's a great question! Our team at House of Companies has extensive experience in international business formation and can provide detailed guidance on that topic.\", \"I understand your concern. House of Companies offers comprehensive support for business setup, tax compliance, and expansion strategies. Would you like to schedule a consultation to discuss this in detail?\"];\n      const randomResponse = responses[Math.floor(Math.random() * responses.length)];\n      addMessage('bot', randomResponse);\n    }, 1000);\n    setFreeTextInput('');\n    setShowFreeTextInput(false);\n  };\n  const handleProfileSubmit = profileData => {\n    var _chatFlow$nextStep;\n    setUserProfile(prev => ({\n      ...prev,\n      ...profileData\n    }));\n    const nextStep = currentStep + 1;\n    setCurrentStep(nextStep);\n    if ((_chatFlow$nextStep = chatFlow[nextStep]) !== null && _chatFlow$nextStep !== void 0 && _chatFlow$nextStep.message) {\n      addMessage('bot', chatFlow[nextStep].message);\n    }\n  };\n  const handleContactSubmit = contactData => {\n    var _chatFlow$nextStep2;\n    const newErrors = {};\n    if (!validateEmail(contactData.email)) {\n      newErrors.email = 'Please enter a valid email address';\n    }\n    if (contactData.linkedin && !validateLinkedIn(contactData.linkedin)) {\n      newErrors.linkedin = 'Please enter a valid LinkedIn URL (https://linkedin.com/in/username)';\n    }\n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      return;\n    }\n    setErrors({});\n    setUserProfile(prev => ({\n      ...prev,\n      ...contactData\n    }));\n    const nextStep = currentStep + 1;\n    setCurrentStep(nextStep);\n    if ((_chatFlow$nextStep2 = chatFlow[nextStep]) !== null && _chatFlow$nextStep2 !== void 0 && _chatFlow$nextStep2.message) {\n      addMessage('bot', chatFlow[nextStep].message);\n    }\n  };\n  const generateReport = () => {\n    const report = {\n      sessionId,\n      timestamp: new Date().toISOString(),\n      userProfile,\n      selectedServices: Object.values(selectedOptions),\n      totalPrice,\n      summary: Object.values(selectedOptions).map(opt => `${opt.title}${opt.price ? ` - â‚¬${opt.price}` : ''}`).join('\\n')\n    };\n    return report;\n  };\n  const sendEmailReport = async report => {\n    console.log('Sending report to manojnamalla12@gmail.com:', report);\n    return new Promise(resolve => setTimeout(resolve, 2000));\n  };\n  const handleSubmit = async () => {\n    setIsSubmitting(true);\n    try {\n      var _chatFlow$nextStep3;\n      const report = generateReport();\n      await sendEmailReport(report);\n      addMessage('bot', 'âœ… Perfect! Your report has been sent to our team. You should receive a confirmation email shortly.');\n      const nextStep = currentStep + 1;\n      setCurrentStep(nextStep);\n      if ((_chatFlow$nextStep3 = chatFlow[nextStep]) !== null && _chatFlow$nextStep3 !== void 0 && _chatFlow$nextStep3.message) {\n        setTimeout(() => {\n          addMessage('bot', chatFlow[nextStep].message);\n        }, 1000);\n      }\n    } catch (error) {\n      addMessage('bot', 'âŒ Sorry, there was an issue sending your report. Please try again or contact us directly.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const handleBookConsultation = () => {\n    const calendlyUrl = `https://calendly.com/dennis-houseofcompanies/new-meeting?month=2025-06&name=${encodeURIComponent(userProfile.name)}&email=${encodeURIComponent(userProfile.email)}`;\n    window.open(calendlyUrl, '_blank');\n    addMessage('bot', 'ðŸ“… Great! The calendar booking page has opened in a new window. Please select your preferred time slot.');\n  };\n  const goBack = () => {\n    if (currentStep > 0) {\n      setCurrentStep(currentStep - 1);\n      addMessage('bot', chatFlow[currentStep - 1].message);\n    }\n  };\n  const startOver = () => {\n    setCurrentStep(0);\n    setMessages([]);\n    setSelectedOptions({});\n    setTotalPrice(0);\n    setUserProfile({\n      name: '',\n      email: '',\n      phone: '',\n      linkedin: '',\n      company: '',\n      country: ''\n    });\n    setErrors({});\n    setTimeout(() => {\n      addMessage('bot', chatFlow[0].message);\n    }, 100);\n  };\n\n  // ===== CUSTOM UI: HORIZONTAL OPTIONS =====\n  const renderCurrentStep = () => {\n    const step = chatFlow[currentStep];\n    if (!step) return null;\n    if (step.type === 'profile_form') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Company Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\",\n            value: userProfile.company,\n            onChange: e => setUserProfile(prev => ({\n              ...prev,\n              company: e.target.value\n            })),\n            placeholder: \"Enter your company name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Preferred Country\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\",\n            value: userProfile.country,\n            onChange: e => setUserProfile(prev => ({\n              ...prev,\n              country: e.target.value\n            })),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select a country\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 15\n            }, this), countries.map((country, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: country,\n              children: country\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 361,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleProfileSubmit(userProfile),\n          className: \"w-full px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all duration-300\",\n          children: \"Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this);\n    }\n    if (step.type === 'contact_form') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Full Name *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\",\n            value: userProfile.name,\n            onChange: e => setUserProfile(prev => ({\n              ...prev,\n              name: e.target.value\n            })),\n            placeholder: \"Enter your full name\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Email Address *\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            className: `w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 ${errors.email ? 'border-red-500' : 'border-gray-300'}`,\n            value: userProfile.email,\n            onChange: e => setUserProfile(prev => ({\n              ...prev,\n              email: e.target.value\n            })),\n            placeholder: \"Enter your email address\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this), errors.email && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500 text-sm mt-1\",\n            children: errors.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Phone Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\",\n            className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\",\n            value: userProfile.phone,\n            onChange: e => setUserProfile(prev => ({\n              ...prev,\n              phone: e.target.value\n            })),\n            placeholder: \"Enter your phone number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"LinkedIn Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"url\",\n            className: `w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 ${errors.linkedin ? 'border-red-500' : 'border-gray-300'}`,\n            value: userProfile.linkedin,\n            onChange: e => setUserProfile(prev => ({\n              ...prev,\n              linkedin: e.target.value\n            })),\n            placeholder: \"https://linkedin.com/in/username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this), errors.linkedin && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-500 text-sm mt-1\",\n            children: errors.linkedin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleContactSubmit(userProfile),\n          className: \"w-full px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all duration-300\",\n          children: \"Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 9\n      }, this);\n    }\n    if (step.type === 'recommendation') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-50 p-4 rounded-lg\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-green-800 mb-2\",\n            children: \"\\uD83C\\uDFAF Recommended for You\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: Object.values(selectedOptions).map((option, index) => option.price > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-green-700\",\n                children: option.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold text-green-800\",\n                children: [\"\\u20AC\", option.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-t border-green-200 mt-3 pt-3\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-semibold text-green-800\",\n                children: \"Total Investment:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xl font-bold text-green-800\",\n                children: [\"\\u20AC\", totalPrice.toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 450,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 448,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 447,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            var _chatFlow$nextStep4;\n            const nextStep = currentStep + 1;\n            setCurrentStep(nextStep);\n            if ((_chatFlow$nextStep4 = chatFlow[nextStep]) !== null && _chatFlow$nextStep4 !== void 0 && _chatFlow$nextStep4.message) {\n              addMessage('bot', chatFlow[nextStep].message);\n            }\n          },\n          className: \"w-full px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all duration-300\",\n          children: \"Looks Good! Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 9\n      }, this);\n    }\n    if (step.type === 'summary') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border border-gray-200 rounded-lg p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-gray-800 mb-3\",\n            children: \"\\uD83D\\uDCCB Your Business Setup Summary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 476,\n                columnNumber: 20\n              }, this), \" \", userProfile.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Email:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 20\n              }, this), \" \", userProfile.email]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Company:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 20\n              }, this), \" \", userProfile.company]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 478,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Country:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 20\n              }, this), \" \", userProfile.country]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pt-2 border-t\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Selected Services:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"mt-1 space-y-1\",\n                children: Object.values(selectedOptions).map((option, index) => option.price > 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n                  className: \"flex justify-between\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: option.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 486,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\u20AC\", option.price]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 25\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pt-2 border-t font-semibold\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Total:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"\\u20AC\", totalPrice.toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 496,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 494,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          disabled: isSubmitting || !userProfile.email || !userProfile.name,\n          className: \"w-full px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 font-semibold\",\n          children: isSubmitting ? 'Processing...' : 'Complete & Send Report'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleBookConsultation,\n          className: \"w-full px-6 py-3 bg-gradient-to-r from-green-600 to-green-500 text-white rounded-lg hover:from-green-700 hover:to-green-600 transition-all duration-300 font-semibold\",\n          children: \"\\uD83D\\uDCC5 Book Free Consultation\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }, this);\n    }\n\n    // ---- HORIZONTAL BUTTONS FOR ALL STEPS WITH OPTIONS ----\n    if (step.options) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"welcome-message mb-2\",\n          children: step.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"option-grid\",\n          children: step.options.map((option, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleOptionSelect(option.id),\n            className: \"option-button-horizontal\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"option-icon\",\n              children: option.title.split(' ')[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 530,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"option-title\",\n                children: option.title.replace(/^\\S+\\s/, '')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"option-desc\",\n                children: option.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 535,\n                columnNumber: 19\n              }, this), option.price && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"option-price\",\n                children: [\"\\u20AC\", option.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 537,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 9\n      }, this);\n    }\n    return null;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chatbot-container max-w-md mx-auto bg-white shadow-2xl rounded-lg overflow-hidden h-full flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-r from-green-600 to-green-700 text-white p-4 flex-shrink-0\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-lg font-bold\",\n            children: \"House of Companies\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm opacity-90\",\n            children: \"Business Formation Assistant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-right text-xs\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Session: \", sessionId.split('-')[1]]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 560,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: new Date().toLocaleDateString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 554,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 553,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-4 py-2 bg-gray-50 border-b flex-shrink-0\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full bg-gray-200 rounded-full h-2\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gradient-to-r from-green-500 to-green-600 h-2 rounded-full transition-all duration-500\",\n          style: {\n            width: `${Math.min(currentStep / totalSteps * 100, 100)}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between text-xs text-gray-600 mt-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Progress\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [Math.min(Math.round(currentStep / totalSteps * 100), 100), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 567,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: chatMessagesRef,\n      className: \"chat-messages flex-1 overflow-y-auto p-2 space-y-3\",\n      style: {\n        scrollBehavior: 'smooth'\n      },\n      children: [messages.map((message, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `flex ${message.sender === 'user' ? 'justify-end' : 'justify-start'}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${message.sender === 'user' ? 'bg-green-500 text-white' : 'bg-white text-gray-800 border border-gray-200'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm\",\n            children: message.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 593,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs opacity-70 mt-1\",\n            children: message.timestamp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 581,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-3 border-t border-gray-200 min-h-[145px] flex-shrink-0\",\n      children: renderCurrentStep()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 602,\n      columnNumber: 7\n    }, this), showFreeTextInput && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border-t border-gray-200 bg-gray-50 flex-shrink-0\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: freeTextInput,\n          onChange: e => setFreeTextInput(e.target.value),\n          placeholder: \"Type your question...\",\n          className: \"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\",\n          onKeyPress: e => {\n            if (e.key === 'Enter' && freeTextInput.trim()) {\n              handleFreeTextInput(freeTextInput.trim());\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => freeTextInput.trim() && handleFreeTextInput(freeTextInput.trim()),\n          className: \"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 609,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 608,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chatbot-footer p-4 border-t border-gray-200 bg-gray-50 flex-shrink-0\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center mb-3\",\n        children: [currentStep > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: goBack,\n          className: \"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\",\n          children: \"\\u2190 Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: startOver,\n          className: \"px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all duration-300\",\n          children: \"Start Over\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 643,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 634,\n        columnNumber: 9\n      }, this), totalPrice > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-r from-green-500 to-green-600 text-white p-3 rounded-lg\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium\",\n            children: \"Current Total: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-xl font-bold\",\n            children: [\"\\u20AC\", totalPrice.toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 656,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 653,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-3\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowFreeTextInput(!showFreeTextInput),\n          className: \"w-full px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors\",\n          children: \"\\uD83D\\uDCAC Ask a Question\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 663,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 633,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 551,\n    columnNumber: 5\n  }, this);\n};\n_s(HouseOfCompaniesChatbot, \"g34s9b2W6AKxP9epU7y9SItHzKE=\");\n_c = HouseOfCompaniesChatbot;\nexport default HouseOfCompaniesChatbot;\nvar _c;\n$RefreshReg$(_c, \"HouseOfCompaniesChatbot\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","HouseOfCompaniesChatbot","_s","currentStep","setCurrentStep","messages","setMessages","selectedOptions","setSelectedOptions","totalPrice","setTotalPrice","userProfile","setUserProfile","name","email","phone","linkedin","company","country","isSubmitting","setIsSubmitting","sessionId","Date","now","Math","random","toString","substr","showFreeTextInput","setShowFreeTextInput","freeTextInput","setFreeTextInput","errors","setErrors","messagesEndRef","chatMessagesRef","totalSteps","countries","chatFlow","message","options","id","title","description","price","type","validateEmail","emailRegex","test","validateLinkedIn","url","linkedinRegex","scrollToBottom","current","scrollIntoView","behavior","block","scrollTop","scrollHeight","timer","setTimeout","clearTimeout","length","addMessage","sender","text","timestamp","toLocaleTimeString","prev","handleOptionSelect","optionId","_chatFlow$currentStep","currentOptions","selectedOption","find","opt","nextStep","handleFreeTextInput","responses","randomResponse","floor","handleProfileSubmit","profileData","_chatFlow$nextStep","handleContactSubmit","contactData","_chatFlow$nextStep2","newErrors","Object","keys","generateReport","report","toISOString","selectedServices","values","summary","map","join","sendEmailReport","console","log","Promise","resolve","handleSubmit","_chatFlow$nextStep3","error","handleBookConsultation","calendlyUrl","encodeURIComponent","window","open","goBack","startOver","renderCurrentStep","step","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","placeholder","index","onClick","required","option","toLocaleString","_chatFlow$nextStep4","disabled","split","replace","toLocaleDateString","style","width","min","round","ref","scrollBehavior","onKeyPress","key","trim","_c","$RefreshReg$"],"sources":["C:/Users/HP/Downloads/house-of-companies-chatbot/src/components/HouseOfCompaniesChatbot.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './HouseOfCompaniesChatbot.css';\n\nconst HouseOfCompaniesChatbot = () => {\n  const [currentStep, setCurrentStep] = useState(0);\n  const [messages, setMessages] = useState([]);\n  const [selectedOptions, setSelectedOptions] = useState({});\n  const [totalPrice, setTotalPrice] = useState(0);\n  const [userProfile, setUserProfile] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    linkedin: '',\n    company: '',\n    country: ''\n  });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [sessionId] = useState(() => 'HOC-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9));\n  const [showFreeTextInput, setShowFreeTextInput] = useState(false);\n  const [freeTextInput, setFreeTextInput] = useState('');\n  const [errors, setErrors] = useState({});\n  const messagesEndRef = useRef(null);\n  const chatMessagesRef = useRef(null); // Added ref for chat container\n\n  const totalSteps = 12;\n\n  // Countries list\n  const countries = [\n    'United States', 'United Kingdom', 'Germany', 'Netherlands', 'Ireland', 'Luxembourg',\n    'Switzerland', 'France', 'Spain', 'Italy', 'Portugal', 'Belgium', 'Austria',\n    'Denmark', 'Sweden', 'Norway', 'Finland', 'Poland', 'Czech Republic', 'Hungary',\n    'Estonia', 'Latvia', 'Lithuania', 'Slovenia', 'Croatia', 'Romania', 'Bulgaria',\n    'Cyprus', 'Malta', 'Canada', 'Australia', 'New Zealand', 'Singapore', 'Hong Kong',\n    'UAE', 'Qatar', 'Saudi Arabia', 'India', 'Japan', 'South Korea', 'Malaysia',\n    'Thailand', 'Philippines', 'Indonesia', 'Vietnam', 'South Africa', 'Mexico',\n    'Brazil', 'Argentina', 'Chile', 'Colombia', 'Other'\n  ];\n\n  // Chat flow steps with services and pricing\n  const chatFlow = {\n    0: {\n      message: \"ðŸ‘‹ Welcome to House of Companies! I'm here to help you establish and grow your business across Europe and beyond. What brings you here today?\",\n      options: [\n        { id: 'setup', title: 'ðŸ¢ Set up a new business', description: 'Start your company in Europe or expand globally' },\n        { id: 'expand', title: 'ðŸŒ Expand existing business', description: 'Grow your business to new markets' },\n        { id: 'consultation', title: 'ðŸ’¬ Get expert consultation', description: 'Speak with our business formation specialists' },\n        { id: 'services', title: 'ðŸ“‹ Explore our services', description: 'Learn about our comprehensive business solutions' }\n      ]\n    },\n    1: {\n      message: \"Great choice! Let me understand your business stage better. Where are you in your entrepreneurial journey?\",\n      options: [\n        { id: 'idea', title: 'ðŸ’¡ I have a business idea', description: 'Just starting out with a concept' },\n        { id: 'planning', title: 'ðŸ“‹ Planning phase', description: 'Working on business plan and strategy' },\n        { id: 'ready', title: 'ðŸš€ Ready to launch', description: 'Prepared to establish the company' },\n        { id: 'existing', title: 'ðŸª Existing business', description: 'Already running a business elsewhere' }\n      ]\n    },\n    2: {\n      message: \"Perfect! Which regions are you most interested in for your business operations?\",\n      options: [\n        { id: 'eu', title: 'ðŸ‡ªðŸ‡º European Union', description: 'Access to 27 EU countries and 450M+ consumers' },\n        { id: 'uk', title: 'ðŸ‡¬ðŸ‡§ United Kingdom', description: 'English-speaking market with global reach' },\n        { id: 'us', title: 'ðŸ‡ºðŸ‡¸ United States', description: 'World\\'s largest economy and consumer market' },\n        { id: 'global', title: 'ðŸŒ Multiple regions', description: 'International expansion across regions' }\n      ]\n    },\n    3: {\n      message: \"Excellent! Now let's look at our core business formation services. Please select what you need:\",\n      options: [\n        { id: 'virtual_office', title: 'ðŸ“ Virtual Office Address', description: 'Professional business address', price: 495 },\n        { id: 'entity_setup', title: 'ðŸ¢ Entity Setup (LLC/Ltd)', description: 'Complete company formation', price: 1995 },\n        { id: 'vat_id', title: 'ðŸ†” VAT ID Registration', description: 'EU VAT identification number', price: 325 },\n        { id: 'bank_account', title: 'ðŸ¦ Business Bank Account', description: 'Multi-currency business banking', price: 750 },\n        { id: 'skip_services', title: 'â­ï¸ Skip for now', description: 'Continue without selecting services', price: 0 }\n      ]\n    },\n    4: {\n      message: \"Great! Let's look at our tax and compliance services:\",\n      options: [\n        { id: 'tax_advisory', title: 'ðŸ“Š Tax Advisory Services', description: 'Expert tax planning and compliance', price: 850 },\n        { id: 'bookkeeping', title: 'ðŸ“š Bookkeeping Services', description: 'Monthly financial record management', price: 450 },\n        { id: 'annual_filing', title: 'ðŸ“‹ Annual Filing', description: 'Company annual returns and filings', price: 275 },\n        { id: 'payroll', title: 'ðŸ’° Payroll Services', description: 'Employee payroll management', price: 650 },\n        { id: 'skip_tax', title: 'â­ï¸ Skip tax services', description: 'Continue without tax services', price: 0 }\n      ]\n    },\n    5: {\n      message: \"Perfect! Now let's explore our additional services and add-ons:\",\n      options: [\n        { id: 'trademark', title: 'â„¢ï¸ Trademark Registration', description: 'Protect your brand internationally', price: 1250 },\n        { id: 'website', title: 'ðŸŒ Professional Website', description: 'Business website development', price: 2500 },\n        { id: 'marketing', title: 'ðŸ“ˆ Digital Marketing Setup', description: 'SEO and online presence', price: 1750 },\n        { id: 'legal_docs', title: 'ðŸ“„ Legal Document Templates', description: 'Contracts and legal templates', price: 350 },\n        { id: 'skip_addons', title: 'â­ï¸ Skip add-ons', description: 'Continue without additional services', price: 0 }\n      ]\n    },\n    6: {\n      message: \"Excellent selections! When would you like to get started with your business setup?\",\n      options: [\n        { id: 'asap', title: 'ðŸš€ As soon as possible', description: 'Start immediately' },\n        { id: 'month', title: 'ðŸ“… Within a month', description: 'Planning to start within 4 weeks' },\n        { id: 'quarter', title: 'ðŸ“† Within 3 months', description: 'Planning for next quarter' },\n        { id: 'planning', title: 'ðŸ¤” Still planning', description: 'Gathering information for now' }\n      ]\n    },\n    7: {\n      message: \"Great! Let me get some details about your business profile:\",\n      type: 'profile_form'\n    },\n    8: {\n      message: \"Based on your selections, here's what we recommend for your business setup:\",\n      type: 'recommendation'\n    },\n    9: {\n      message: \"Perfect! Let me collect your contact information to create your personalized report:\",\n      type: 'contact_form'\n    },\n    10: {\n      message: \"Excellent! Here's a summary of everything you've selected:\",\n      type: 'summary'\n    },\n    11: {\n      message: \"ðŸŽ‰ Thank you! Your business setup consultation has been scheduled. What would you like to do next?\",\n      options: [\n        { id: 'calendar', title: 'ðŸ“… Book Calendar Appointment', description: 'Schedule a detailed consultation' },\n        { id: 'contact', title: 'ðŸ“ž Get Contact Information', description: 'Speak with our specialists directly' },\n        { id: 'restart', title: 'ðŸ”„ Start Over', description: 'Begin a new consultation' }\n      ]\n    }\n  };\n\n  // Validation functions\n  const validateEmail = (email) => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  };\n\n  const validateLinkedIn = (url) => {\n    if (!url) return true; // LinkedIn is optional\n    const linkedinRegex = /^https:\\/\\/(www\\.)?linkedin\\.com\\/in\\/[a-zA-Z0-9-]+\\/?$/;\n    return linkedinRegex.test(url);\n  };\n\n  // Improved scroll to bottom function\n  const scrollToBottom = () => {\n    // Method 1: Scroll the end element into view\n    if (messagesEndRef.current) {\n      messagesEndRef.current.scrollIntoView({ behavior: 'smooth', block: 'end' });\n    }\n    \n    // Method 2: Directly set scrollTop (fallback)\n    if (chatMessagesRef.current) {\n      chatMessagesRef.current.scrollTop = chatMessagesRef.current.scrollHeight;\n    }\n  };\n\n  // Auto-scroll to bottom with delay\n  useEffect(() => {\n    // Small delay to ensure DOM is updated\n    const timer = setTimeout(() => {\n      scrollToBottom();\n    }, 100);\n    \n    return () => clearTimeout(timer);\n  }, [messages]);\n\n  // Initialize chat\n  useEffect(() => {\n    if (messages.length === 0) {\n      addMessage('bot', chatFlow[0].message);\n    }\n  }, []);\n\n  const addMessage = (sender, text, timestamp = new Date().toLocaleTimeString()) => {\n    setMessages(prev => [...prev, { sender, text, timestamp }]);\n  };\n\n  const handleOptionSelect = (optionId) => {\n    const currentOptions = chatFlow[currentStep]?.options || [];\n    const selectedOption = currentOptions.find(opt => opt.id === optionId);\n\n    if (selectedOption) {\n      addMessage('user', selectedOption.title);\n\n      setSelectedOptions(prev => ({\n        ...prev,\n        [currentStep]: selectedOption\n      }));\n\n      if (selectedOption.price) {\n        setTotalPrice(prev => prev + selectedOption.price);\n      }\n\n      setTimeout(() => {\n        const nextStep = currentStep + 1;\n        if (chatFlow[nextStep]) {\n          setCurrentStep(nextStep);\n          if (chatFlow[nextStep].message) {\n            addMessage('bot', chatFlow[nextStep].message);\n          }\n        }\n      }, 500);\n    }\n  };\n\n  const handleFreeTextInput = async (text) => {\n    addMessage('user', text);\n\n    setTimeout(() => {\n      const responses = [\n        \"Thank you for your question! Based on House of Companies' expertise, we specialize in helping businesses establish and expand across Europe and globally.\",\n        \"That's a great question! Our team at House of Companies has extensive experience in international business formation and can provide detailed guidance on that topic.\",\n        \"I understand your concern. House of Companies offers comprehensive support for business setup, tax compliance, and expansion strategies. Would you like to schedule a consultation to discuss this in detail?\"\n      ];\n      const randomResponse = responses[Math.floor(Math.random() * responses.length)];\n      addMessage('bot', randomResponse);\n    }, 1000);\n\n    setFreeTextInput('');\n    setShowFreeTextInput(false);\n  };\n\n  const handleProfileSubmit = (profileData) => {\n    setUserProfile(prev => ({ ...prev, ...profileData }));\n    const nextStep = currentStep + 1;\n    setCurrentStep(nextStep);\n    if (chatFlow[nextStep]?.message) {\n      addMessage('bot', chatFlow[nextStep].message);\n    }\n  };\n\n  const handleContactSubmit = (contactData) => {\n    const newErrors = {};\n\n    if (!validateEmail(contactData.email)) {\n      newErrors.email = 'Please enter a valid email address';\n    }\n\n    if (contactData.linkedin && !validateLinkedIn(contactData.linkedin)) {\n      newErrors.linkedin = 'Please enter a valid LinkedIn URL (https://linkedin.com/in/username)';\n    }\n\n    if (Object.keys(newErrors).length > 0) {\n      setErrors(newErrors);\n      return;\n    }\n\n    setErrors({});\n    setUserProfile(prev => ({ ...prev, ...contactData }));\n\n    const nextStep = currentStep + 1;\n    setCurrentStep(nextStep);\n    if (chatFlow[nextStep]?.message) {\n      addMessage('bot', chatFlow[nextStep].message);\n    }\n  };\n\n  const generateReport = () => {\n    const report = {\n      sessionId,\n      timestamp: new Date().toISOString(),\n      userProfile,\n      selectedServices: Object.values(selectedOptions),\n      totalPrice,\n      summary: Object.values(selectedOptions).map(opt =>\n        `${opt.title}${opt.price ? ` - â‚¬${opt.price}` : ''}`\n      ).join('\\n')\n    };\n    return report;\n  };\n\n  const sendEmailReport = async (report) => {\n    console.log('Sending report to manojnamalla12@gmail.com:', report);\n    return new Promise(resolve => setTimeout(resolve, 2000));\n  };\n\n  const handleSubmit = async () => {\n    setIsSubmitting(true);\n\n    try {\n      const report = generateReport();\n      await sendEmailReport(report);\n\n      addMessage('bot', 'âœ… Perfect! Your report has been sent to our team. You should receive a confirmation email shortly.');\n\n      const nextStep = currentStep + 1;\n      setCurrentStep(nextStep);\n      if (chatFlow[nextStep]?.message) {\n        setTimeout(() => {\n          addMessage('bot', chatFlow[nextStep].message);\n        }, 1000);\n      }\n    } catch (error) {\n      addMessage('bot', 'âŒ Sorry, there was an issue sending your report. Please try again or contact us directly.');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleBookConsultation = () => {\n    const calendlyUrl = `https://calendly.com/dennis-houseofcompanies/new-meeting?month=2025-06&name=${encodeURIComponent(userProfile.name)}&email=${encodeURIComponent(userProfile.email)}`;\n    window.open(calendlyUrl, '_blank');\n    addMessage('bot', 'ðŸ“… Great! The calendar booking page has opened in a new window. Please select your preferred time slot.');\n  };\n\n  const goBack = () => {\n    if (currentStep > 0) {\n      setCurrentStep(currentStep - 1);\n      addMessage('bot', chatFlow[currentStep - 1].message);\n    }\n  };\n\n  const startOver = () => {\n    setCurrentStep(0);\n    setMessages([]);\n    setSelectedOptions({});\n    setTotalPrice(0);\n    setUserProfile({\n      name: '',\n      email: '',\n      phone: '',\n      linkedin: '',\n      company: '',\n      country: ''\n    });\n    setErrors({});\n    setTimeout(() => {\n      addMessage('bot', chatFlow[0].message);\n    }, 100);\n  };\n\n  // ===== CUSTOM UI: HORIZONTAL OPTIONS =====\n  const renderCurrentStep = () => {\n    const step = chatFlow[currentStep];\n\n    if (!step) return null;\n\n    if (step.type === 'profile_form') {\n      return (\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Company Name</label>\n            <input\n              type=\"text\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\n              value={userProfile.company}\n              onChange={(e) => setUserProfile(prev => ({ ...prev, company: e.target.value }))}\n              placeholder=\"Enter your company name\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Preferred Country</label>\n            <select\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\n              value={userProfile.country}\n              onChange={(e) => setUserProfile(prev => ({ ...prev, country: e.target.value }))}\n            >\n              <option value=\"\">Select a country</option>\n              {countries.map((country, index) => (\n                <option key={index} value={country}>{country}</option>\n              ))}\n            </select>\n          </div>\n          <button\n            onClick={() => handleProfileSubmit(userProfile)}\n            className=\"w-full px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all duration-300\"\n          >\n            Continue\n          </button>\n        </div>\n      );\n    }\n\n    if (step.type === 'contact_form') {\n      return (\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Full Name *</label>\n            <input\n              type=\"text\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\n              value={userProfile.name}\n              onChange={(e) => setUserProfile(prev => ({ ...prev, name: e.target.value }))}\n              placeholder=\"Enter your full name\"\n              required\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Email Address *</label>\n            <input\n              type=\"email\"\n              className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 ${errors.email ? 'border-red-500' : 'border-gray-300'}`}\n              value={userProfile.email}\n              onChange={(e) => setUserProfile(prev => ({ ...prev, email: e.target.value }))}\n              placeholder=\"Enter your email address\"\n              required\n            />\n            {errors.email && <p className=\"text-red-500 text-sm mt-1\">{errors.email}</p>}\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Phone Number</label>\n            <input\n              type=\"tel\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\n              value={userProfile.phone}\n              onChange={(e) => setUserProfile(prev => ({ ...prev, phone: e.target.value }))}\n              placeholder=\"Enter your phone number\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">LinkedIn Profile</label>\n            <input\n              type=\"url\"\n              className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 ${errors.linkedin ? 'border-red-500' : 'border-gray-300'}`}\n              value={userProfile.linkedin}\n              onChange={(e) => setUserProfile(prev => ({ ...prev, linkedin: e.target.value }))}\n              placeholder=\"https://linkedin.com/in/username\"\n            />\n            {errors.linkedin && <p className=\"text-red-500 text-sm mt-1\">{errors.linkedin}</p>}\n          </div>\n          <button\n            onClick={() => handleContactSubmit(userProfile)}\n            className=\"w-full px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all duration-300\"\n          >\n            Continue\n          </button>\n        </div>\n      );\n    }\n\n    if (step.type === 'recommendation') {\n      return (\n        <div className=\"space-y-4\">\n          <div className=\"bg-green-50 p-4 rounded-lg\">\n            <h3 className=\"font-semibold text-green-800 mb-2\">ðŸŽ¯ Recommended for You</h3>\n            <div className=\"space-y-2\">\n              {Object.values(selectedOptions).map((option, index) => (\n                option.price > 0 && (\n                  <div key={index} className=\"flex justify-between items-center\">\n                    <span className=\"text-sm text-green-700\">{option.title}</span>\n                    <span className=\"font-semibold text-green-800\">â‚¬{option.price}</span>\n                  </div>\n                )\n              ))}\n            </div>\n            <div className=\"border-t border-green-200 mt-3 pt-3\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"font-semibold text-green-800\">Total Investment:</span>\n                <span className=\"text-xl font-bold text-green-800\">â‚¬{totalPrice.toLocaleString()}</span>\n              </div>\n            </div>\n          </div>\n          <button\n            onClick={() => {\n              const nextStep = currentStep + 1;\n              setCurrentStep(nextStep);\n              if (chatFlow[nextStep]?.message) {\n                addMessage('bot', chatFlow[nextStep].message);\n              }\n            }}\n            className=\"w-full px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all duration-300\"\n          >\n            Looks Good! Continue\n          </button>\n        </div>\n      );\n    }\n\n    if (step.type === 'summary') {\n      return (\n        <div className=\"space-y-4\">\n          <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\n            <h3 className=\"font-semibold text-gray-800 mb-3\">ðŸ“‹ Your Business Setup Summary</h3>\n            <div className=\"space-y-2 text-sm\">\n              <div><strong>Name:</strong> {userProfile.name}</div>\n              <div><strong>Email:</strong> {userProfile.email}</div>\n              <div><strong>Company:</strong> {userProfile.company}</div>\n              <div><strong>Country:</strong> {userProfile.country}</div>\n              <div className=\"pt-2 border-t\">\n                <strong>Selected Services:</strong>\n                <ul className=\"mt-1 space-y-1\">\n                  {Object.values(selectedOptions).map((option, index) => (\n                    option.price > 0 && (\n                      <li key={index} className=\"flex justify-between\">\n                        <span>{option.title}</span>\n                        <span>â‚¬{option.price}</span>\n                      </li>\n                    )\n                  ))}\n                </ul>\n              </div>\n              <div className=\"pt-2 border-t font-semibold\">\n                <div className=\"flex justify-between\">\n                  <span>Total:</span>\n                  <span>â‚¬{totalPrice.toLocaleString()}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <button\n            onClick={handleSubmit}\n            disabled={isSubmitting || !userProfile.email || !userProfile.name}\n            className=\"w-full px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 font-semibold\"\n          >\n            {isSubmitting ? 'Processing...' : 'Complete & Send Report'}\n          </button>\n          <button\n            onClick={handleBookConsultation}\n            className=\"w-full px-6 py-3 bg-gradient-to-r from-green-600 to-green-500 text-white rounded-lg hover:from-green-700 hover:to-green-600 transition-all duration-300 font-semibold\"\n          >\n            ðŸ“… Book Free Consultation\n          </button>\n        </div>\n      );\n    }\n\n    // ---- HORIZONTAL BUTTONS FOR ALL STEPS WITH OPTIONS ----\n    if (step.options) {\n      return (\n        <div>\n          <div className=\"welcome-message mb-2\">{step.message}</div>\n          <div className=\"option-grid\">\n            {step.options.map((option, index) => (\n              <button\n                key={index}\n                onClick={() => handleOptionSelect(option.id)}\n                className=\"option-button-horizontal\"\n              >\n                <div className=\"option-icon\">{option.title.split(' ')[0]}</div>\n                <div>\n                  <div className=\"option-title\">\n                    {option.title.replace(/^\\S+\\s/, '')}\n                  </div>\n                  <div className=\"option-desc\">{option.description}</div>\n                  {option.price && (\n                    <div className=\"option-price\">â‚¬{option.price}</div>\n                  )}\n                </div>\n              </button>\n            ))}\n          </div>\n        </div>\n      );\n    }\n\n    return null;\n  };\n\n  return (\n    <div className=\"chatbot-container max-w-md mx-auto bg-white shadow-2xl rounded-lg overflow-hidden h-full flex flex-col\">\n      {/* Header - flex-shrink-0 ensures it doesn't shrink */}\n      <div className=\"bg-gradient-to-r from-green-600 to-green-700 text-white p-4 flex-shrink-0\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-lg font-bold\">House of Companies</h1>\n            <p className=\"text-sm opacity-90\">Business Formation Assistant</p>\n          </div>\n          <div className=\"text-right text-xs\">\n            <div>Session: {sessionId.split('-')[1]}</div>\n            <div>{new Date().toLocaleDateString()}</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Progress Bar - flex-shrink-0 ensures it doesn't shrink */}\n      <div className=\"px-4 py-2 bg-gray-50 border-b flex-shrink-0\">\n        <div className=\"w-full bg-gray-200 rounded-full h-2\">\n          <div\n            className=\"bg-gradient-to-r from-green-500 to-green-600 h-2 rounded-full transition-all duration-500\"\n            style={{ width: `${Math.min((currentStep / totalSteps) * 100, 100)}%` }}\n          ></div>\n        </div>\n        <div className=\"flex justify-between text-xs text-gray-600 mt-1\">\n          <span>Progress</span>\n          <span>{Math.min(Math.round((currentStep / totalSteps) * 100), 100)}%</span>\n        </div>\n      </div>\n\n      {/* Chat Messages - flex-1 makes it take available space, overflow-y-auto enables scrolling */}\n      <div \n        ref={chatMessagesRef}\n        className=\"chat-messages flex-1 overflow-y-auto p-2 space-y-3\"\n        style={{ scrollBehavior: 'smooth' }}\n      >\n        {messages.map((message, index) => (\n          <div key={index} className={`flex ${message.sender === 'user' ? 'justify-end' : 'justify-start'}`}>\n            <div className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${\n              message.sender === 'user'\n                ? 'bg-green-500 text-white'\n                : 'bg-white text-gray-800 border border-gray-200'\n            }`}>\n              <div className=\"text-sm\">{message.text}</div>\n              <div className=\"text-xs opacity-70 mt-1\">{message.timestamp}</div>\n            </div>\n          </div>\n        ))}\n        <div ref={messagesEndRef} />\n      </div>\n\n      {/* Current Step Content - flex-shrink-0 ensures it doesn't shrink */}\n      <div className=\"p-3 border-t border-gray-200 min-h-[145px] flex-shrink-0\">\n        {renderCurrentStep()}\n      </div>\n\n      {/* Free Text Input - flex-shrink-0 ensures it doesn't shrink */}\n      {showFreeTextInput && (\n        <div className=\"p-4 border-t border-gray-200 bg-gray-50 flex-shrink-0\">\n          <div className=\"flex space-x-2\">\n            <input\n              type=\"text\"\n              value={freeTextInput}\n              onChange={(e) => setFreeTextInput(e.target.value)}\n              placeholder=\"Type your question...\"\n              className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\n              onKeyPress={(e) => {\n                if (e.key === 'Enter' && freeTextInput.trim()) {\n                  handleFreeTextInput(freeTextInput.trim());\n                }\n              }}\n            />\n            <button\n              onClick={() => freeTextInput.trim() && handleFreeTextInput(freeTextInput.trim())}\n              className=\"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors\"\n            >\n              Send\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Navigation & Action Buttons - flex-shrink-0 ensures it doesn't shrink */}\n      <div className=\"chatbot-footer p-4 border-t border-gray-200 bg-gray-50 flex-shrink-0\">\n        <div className=\"flex justify-between items-center mb-3\">\n          {currentStep > 0 && (\n            <button\n              onClick={goBack}\n              className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors\"\n            >\n              â† Back\n            </button>\n          )}\n          <button\n            onClick={startOver}\n            className=\"px-4 py-2 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-lg hover:from-green-600 hover:to-green-700 transition-all duration-300\"\n          >\n            Start Over\n          </button>\n        </div>\n\n        {/* Current Total Display */}\n        {totalPrice > 0 && (\n          <div className=\"bg-gradient-to-r from-green-500 to-green-600 text-white p-3 rounded-lg\">\n            <div className=\"text-center\">\n              <span className=\"text-sm font-medium\">Current Total: </span>\n              <span className=\"text-xl font-bold\">â‚¬{totalPrice.toLocaleString()}</span>\n            </div>\n          </div>\n        )}\n\n        {/* Question Button */}\n        <div className=\"mt-3\">\n          <button\n            onClick={() => setShowFreeTextInput(!showFreeTextInput)}\n            className=\"w-full px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors\"\n          >\n            ðŸ’¬ Ask a Question\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HouseOfCompaniesChatbot;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}